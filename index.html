<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="UTF-8">
<title>ğŸ„ å¹³å®‰å¤œå¿«ä¹</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
html,body{
  margin:0;
  padding:0;
  height:100%;
  background:linear-gradient(180deg,#ff9a9e,#fad0c4);
  overflow:hidden;
  font-family:"PingFang SC","Microsoft YaHei",sans-serif;
}

#tip{
  position:fixed;
  top:20px;
  width:100%;
  text-align:center;
  color:#fff;
  font-size:20px;
  z-index:10;
}

video{
  position:fixed;
  inset:0;
  width:100%;
  height:100%;
  object-fit:cover;
  opacity:0.25;
}

.heart{
  position:absolute;
  font-size:26px;
  animation:fly 1.5s ease-out forwards;
  pointer-events:none;
}

@keyframes fly{
  from{opacity:1;transform:scale(.6)}
  to{
    opacity:0;
    transform:
      translate(
        calc(var(--x) * 1px),
        calc(var(--y) * 1px)
      )
      scale(1.6)
      rotate(360deg);
  }
}
</style>
</head>

<body>

<div id="tip">ğŸ‘‡ ç‚¹ä¸€ä¸‹å±å¹•</div>
<video id="video" playsinline autoplay muted></video>

<script>
const tip = document.getElementById("tip");
const video = document.getElementById("video");
let started = false;

function hearts(){
  for(let i=0;i<18;i++){
    const h=document.createElement("div");
    h.className="heart";
    h.innerText="ğŸ’–";
    h.style.left=Math.random()*innerWidth+"px";
    h.style.top=Math.random()*innerHeight+"px";
    h.style.setProperty("--x",Math.random()*240-120);
    h.style.setProperty("--y",Math.random()*240-120);
    document.body.appendChild(h);
    setTimeout(()=>h.remove(),1500);
  }
}

async function start(){
  try{
    const stream = await navigator.mediaDevices.getUserMedia({
      video:{facingMode:"user"},
      audio:false
    });
    video.srcObject = stream;

    // âš ï¸ ä¸åšä»»ä½•å¸§å¤„ç†
    tip.innerText = "ğŸ„ å¹³å®‰å¤œå¿«ä¹ âœ¨";
    hearts();

  }catch(e){
    alert("æ‘„åƒå¤´å¯åŠ¨å¤±è´¥");
  }
}

document.body.addEventListener("click",()=>{
  if(started) return;
  started = true;
  start();
});
</script>

</body>
</html>
